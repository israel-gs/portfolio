---
type Props = {
  id?: string;
  text: string;
  position?: "top" | "bottom";
};

const { id, text, position = "bottom" } = Astro.props;
---

<div class="tooltip-wrapper relative flex flex-col items-center">
  <slot />
  <span
    id={id}
    class={`tooltip absolute hidden w-max rounded z-10 px-4 py-2 text-xs select-none leading-none text-white whitespace-no-wrap bg-black shadow-lg  ${
      position == "top" ? "-top-10" : "-bottom-10"
    }`}
  >
    {text}
  </span>
</div>

<script>
  const tooltipWrapperElement = document.querySelectorAll(".tooltip-wrapper");
  tooltipWrapperElement.forEach((element) => {
    element.addEventListener("mouseenter", () => {
      element.querySelector(".tooltip").classList.remove("hidden");
    });
    element.addEventListener("mouseleave", () => {
      element.querySelector(".tooltip").classList.add("hidden");
    });
  });
</script>
